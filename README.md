# kokoustilojen-varaus-API
This is a simple API for making meetingroom bookings.  
The initial working solution was generated by AI, the prompt history can be read from PROMPTIT.md.

# Usage
Clone this repo and run it with
```
$ mvn spring-boot:run
```
You can access the API with Postman at http://localhost:8080/api.  

Add a meetingroom:  
## POST /rooms  
example body:  
```
{
    "name": "Einstein"
}
```

List meetingrooms:
## GET /rooms
```
[
    {
        "id": 1,
        "name": "Einstein"
    }
]
```

Add a user:
## POST /users
Only emails including @mycompany are allowed
```
{
    "name": "testuser",
    "email": "testuser@mycompany.sf"
}
```

List users:
## GET /users
```
[
    {
        "id": 100,
        "name": "testuser",
        "email": "testuser@mycompany.sf"
    }
]
```

Get user by id:
## GET /users/{id} (/users/100)

Delete user by id:
## DELETE /users/{id} (/users/100)

Add a booking:
## POST /bookings
```
{
    "roomId": 1,
    "userId": 100,
    "start": "2026-03-26T13:00",
    "end": "2026-03-26T15:00"
}
```

List bookings:
## GET /bookings
```
[
    {
        "id": 1000,
        "roomId": 1,
        "userId": 100,
        "start": "2026-03-26T13:00:00",
        "end": "2026-03-26T15:00:00"
    }
]
```
Delete booking by booking id and user id:
## DELETE /bookings/{id}?userId={userId} (bookings/1000?userId=100)

